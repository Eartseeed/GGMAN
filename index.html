<!DOCTYPE html>
<html lang="lo">
<head>
<meta charset="UTF-8">
<title>๐งพ POS</title>

<!-- MAIN STYLE -->
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="print.css">
<link rel="stylesheet" href="Phetsarath OT.css">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#22c55e">

<style>
@media print {
  hr {
    border: none;
    border-top: 1px dashed #000;
    margin: 6px 0;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  img {
    max-width: 100%;
  }
}

/* เธเธธเนเธกเธชเนเธเธเธฃเธฑเธง */
.pos-btn.kitchen{
  background:#f97316;
  color:#fff;
}
.pos-btn.kitchen:hover{
  background:#ea580c;
}
</style>
</head>

<body>

<h2 class="main-title"></h2>

<!-- MEMBER -->
<div class="member-box modern">
  <input id="memberName" placeholder="๐ค เบเบทเปเบฅเบนเบเบเปเบฒ">
  <input id="memberPhone" placeholder="๐ เปเบเบตเปเบ">
  <input id="discount" type="number" placeholder="๐ธ เบชเปเบงเบเบซเบผเบธเบ %" value="0">
</div>

<div class="app">

  <!-- LEFT -->
  <div class="left-panel">

    <!-- CATEGORY + SEARCH -->
    <div class="category-bar modern" style="display:flex;gap:10px;align-items:center;">
      <div>
        <label>๐ เปเบงเบ</label><br>
        <select id="categorySelect" onchange="filterProducts()"></select>
      </div>

      <div style="flex:1">
        <label>๐ เบเบปเปเบเบซเบฒ</label><br>
        <input
          type="text"
          id="searchInput"
          placeholder="เบเบทเปเปเบกเบเบน"
          oninput="filterProducts()"
          style="width:100%;padding:8px;border-radius:10px;border:1px solid #e5e7eb;">
      </div>
    </div>

    <!-- MENU GRID -->
    <div class="menu" id="menu"></div>

  </div>

  <!-- RIGHT -->
  <div class="right-panel">

<div class="actions-grid modern-grid">

  <button class="pos-btn cat" onclick="location.href='category.html'">
    ๐ เปเบงเบเบชเบดเบเบเปเบฒ
  </button>

  <button class="pos-btn add" onclick="location.href='add-product.html'">
    โ เปเบเบตเปเบกเปเบกเบเบน
  </button>

  <button class="pos-btn manage" onclick="location.href='manage.html'">
    โ๏ธ เบเบฑเบเบเบฒเบเปเบกเบเบน
  </button>

  <button class="pos-btn report" onclick="location.href='report.html'">
    ๐ เบฅเบฒเบเบเบฒเบ
  </button>

  <button class="pos-btn setting" onclick="location.href='shop-setting.html'">
    ๐ช เบเบฑเปเบเบเปเบฒเบฎเปเบฒเบ
  </button>

  <button class="print-btn" onclick="printAndClear()">
    ๐งพ เบเบดเบกเบเบดเบ
  </button>

  <!-- NEW : SEND TO KITCHEN -->
  <button class="pos-btn kitchen" onclick="printKitchen()">
    ๐ณ เบชเบปเปเบเบเบดเบเปเบเบปเปเบฒเบเบปเบง
  </button>

</div>

    <!-- RECEIPT -->
    <div id="receipt" class="receipt-card">
      <center>
        <img id="shopLogo" class="logo">
        <b id="shopName"></b><br>
        <span id="shopPhone"></span>
      </center>

      <hr>
      <div id="time"></div>
      <hr>
      <div id="items"></div>
      <hr>
      <b id="total">เบฅเบงเบก: 0 เบเบตเบ</b>
    </div>

  </div>
</div>

<!-- PRINT AREA -->
<div id="printArea" class="print-area">
  <img id="printLogo" class="print-logo">
  <h3 id="printShopName" style="text-align:center;margin:0;"></h3>
  <div id="printDate" style="text-align:center;"></div>

  <div class="print-divider"></div>

  <table class="print-table">
    <tbody id="printItems"></tbody>
  </table>

  <div class="print-divider"></div>
</div>

<script src="app.js"></script>
<script src="print.js"></script>

<script>
const shop = JSON.parse(localStorage.getItem("SHOP_INFO") || "{}");
shop.name ||= "เบฎเปเบฒเบเบเบญเบเบเปเบญเบ";

document.getElementById("shopName").innerText = shop.name;
document.getElementById("shopPhone").innerText = shop.phone || "";
document.getElementById("shopLogo").src = shop.logo || "logo.png";

</script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>